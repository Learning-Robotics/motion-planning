% Inspired by the BrownU Theme for Metropolis (License: MIT)
% https://github.com/vskbellala/metropolis-brown

\RequirePackage{caption}

% Constants
\definecolor{cAlertRed}{RGB}{237, 28, 36}
\definecolor{cDarkGold}{RGB}{224, 165, 0}
\definecolor{cInriaRed}{HTML}{dd212c}
\definecolor{cInriaOrange}{HTML}{ef681f}
\definecolor{cDarkRed}{HTML}{5c3333}
\newcommand{\progressbar}{1pt}

% Captions
\captionsetup[figure]{labelfont={bf,color=cInriaRed}}
\captionsetup[table]{labelfont={bf,color=cInriaRed}}

% Progress Bar
\makeatletter
\setlength{\metropolis@titleseparator@linewidth}{\progressbar}
\setlength{\metropolis@progressonsectionpage@linewidth}{\progressbar}
\setlength{\metropolis@progressinheadfoot@linewidth}{\progressbar}
\makeatother

% Slide colors
\setbeamercolor{alerted text}{fg=cAlertRed}
\setbeamercolor{example text}{fg=cDarkGold}
\setbeamercolor{palette primary}{bg=cInriaRed}
\setbeamercolor{bibliography entry location}{fg=cInriaRed}

\setbeamercolor{frametitle}{%
  use=palette primary,
  parent=palette primary
}

% The following commands fix theme switches
% See https://tex.stackexchange.com/a/329454
% Replace mDarkTeal by the desired normal text color
\makeatletter
\renewcommand{\metropolis@colors@dark}{%
    % Dark background color matches normal text color in this theme...
    \setbeamercolor{normal text}{fg=black!2, bg=mDarkTeal}%
    \usebeamercolor[fg]{normal text}}
\renewcommand{\metropolis@colors@light}{%
    \setbeamercolor{normal text}{fg=mDarkTeal, bg=black!2}%
    \usebeamercolor[fg]{normal text}}
\makeatother

\newcommand{\highlight}[1]{{\color{cInriaOrange} \textbf{#1}}}
